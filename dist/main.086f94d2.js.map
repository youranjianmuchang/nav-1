{"version":3,"sources":["main.js"],"names":["options","JSON","parse","localStorage","getItem","optionsObj","render","optionsHtml","forEach","element","index","url","logo","simplifyUrl","$","remove","before","replace","on","window","prompt","simpleUrl","indexOf","push","length","document","e","currentTarget","attr","splice","stopPropagation","key","toLowerCase","open","onbeforeunload","setItem","stringify"],"mappings":"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","file":"main.086f94d2.js","sourceRoot":"..\\src","sourcesContent":["let options = JSON.parse(localStorage.getItem('history'));\r\nlet optionsObj = options || [{ 'logo': 'A', 'logoType': 'text', 'url': 'http://www.acfun.cn', 'index': '0' },\r\n{ 'logo': 'B', 'logoType': 'text', 'url': 'http://www.bilibili.com', 'index': '1' }]\r\n\r\n\r\nconst render = () => {\r\n    let optionsHtml = '';\r\n    optionsObj.forEach((element, index) => {\r\n        optionsHtml += `\r\n            <li>\r\n                <a href=\"${element.url}\">\r\n                    <div class=\"site\">\r\n                        <div class=\"logo\">${element.logo}</div>\r\n                        <div class=\"link\">${simplifyUrl(element.url)}</div>\r\n                        <div class=\"del\" data-index=\"${index}\">\r\n                            <svg class=\"icon\">\r\n                                <use xlink:href=\"#icon-del\"></use>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n            </li>      \r\n        `;\r\n    });\r\n    $('.options-list li:not(.last)').remove();\r\n    $('.last').before(optionsHtml);\r\n}\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/com\\/.*/, 'com');\r\n}\r\n\r\nrender();\r\n\r\n\r\n$('.addSite').on('click', () => {\r\n    let url = window.prompt('请输入网址');\r\n    let simpleUrl = \"\";\r\n    if (url.indexOf('http') > -1 || url.indexOf('www') > -1) {\r\n        simpleUrl = simplifyUrl(url);\r\n    } else {\r\n        simpleUrl = url;\r\n    }\r\n    url = 'https://' + simpleUrl;\r\n    optionsObj.push({\r\n        'logo': simpleUrl[0],\r\n        'logoType': 'text',\r\n        'url': url,\r\n        'index': $('.options-list li:not(.last)').length + 1\r\n    });\r\n    render();\r\n})\r\n\r\n$(document).on('click', 'li .del', (e) => {\r\n    let index = $(e.currentTarget).attr('data-index');\r\n    optionsObj.splice(index, 1);\r\n    render();\r\n    e.stopPropagation();\r\n    return false;\r\n})\r\n\r\n$(document).on('keypress', (e) => {\r\n    const { key } = e;\r\n    optionsObj.forEach((element, index) => {\r\n        if (element.logo.toLowerCase() === key) {\r\n            window.open(element.url);\r\n        }\r\n    });\r\n})\r\n\r\n\r\n\r\nwindow.onbeforeunload = () => {\r\n    localStorage.setItem('history', JSON.stringify(optionsObj));\r\n}"]}